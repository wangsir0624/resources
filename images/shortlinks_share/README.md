# 短链接生成服务

## 项目简介

### 项目背景
短链接，通俗来说，就是将长的URL网址，通过程序计算等方式，转换为简短的网址字符串。开发此项目的初衷是方便短信营销，通过压缩链接的URL长度，避免URL太长导致短信必须分多条进行发送。现在很多公司其实都有提供短信压缩的功能，但是如果这些服务出现一些问题（例如更改域名，服务器宕机等），可能会影响到我们公司的业务，为了提高项目的可控性，项目组决定自己开发一套短链接生成服务系统。

### 项目特点
- nginx方向代理 + go后端，只需要改一下配置文件，就可以部署一台服务。集群搭建方便，可以根据不同的业务，使用不同的服务器，通过分流来减轻服务器压力。
- 区分临时短链和永久短链，采用不同的存储层存储，临时短链采用redis存储，永久短链采用mysql存储。防止数据量暴涨，降低吞吐率。
- 错误告警和快速恢复

### 接口列表
```
接口1：POST /api/shortlinks      生成短链接
接口2：GET /{shortlink}          跳转到原始链接
```

### 原理与关键点
![短链接生成服务原理图](https://github.com/wangsir0624/resources/blob/master/images/shortlinks_share/yuanli.jpg)

思考两个问题：
1、是否可以将原始链接作为明文进行加密
2、是否可以使用哈希算法进行加密

#### 如何获取唯一标示符
- mysql中的获取
- redis中的获取

#### 加密算法
![加密算法原理图](https://github.com/wangsir0624/resources/blob/master/images/shortlinks_share/jiami.png)

#### 性能


## 接入指南

## 问题与解决